<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="D5RobotWinUI.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:D5RobotWinUI"
    xmlns:cvt="using:D5RobotWinUI.Converter"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="D5RobotWinUI">
    <Grid Padding="8" x:Name="root">
        <Grid.Resources>
            <cvt:BoolInverseConverter x:Key="BoolInverseConverter"/>
            <cvt:ConnectBtnConverter x:Key="ConnectBtnConverter"/>
        </Grid.Resources>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="auto"/>
        </Grid.ColumnDefinitions>
        <Grid HorizontalAlignment="Stretch" ColumnSpacing="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*" MaxWidth="100"/>
                <ColumnDefinition Width="*" MaxWidth="100"/>
				<ColumnDefinition Width="auto"/>
				<ColumnDefinition Width="*" MaxWidth="100"/>
				<ColumnDefinition Width="*" MaxWidth="100"/>
            </Grid.ColumnDefinitions>
            <Grid.Resources>
                <Style TargetType="ComboBox">
                    <Setter Property="HorizontalAlignment" Value="Stretch"/>
                </Style>
                <Style TargetType="Button">
                    <Setter Property="HorizontalAlignment" Value="Stretch"/>
                </Style>
                <Style TargetType="TextBlock">
                    <Setter Property="VerticalAlignment" Value="Center"/>
                </Style>
            </Grid.Resources>
            <TextBlock Grid.Column="0">端口</TextBlock>
            <ComboBox Grid.Column="1" ItemsSource="{x:Bind viewModel.PortsAvailable}" SelectedItem="{x:Bind viewModel.SelectedPort}" IsEnabled="{Binding SystemConnected, Converter={StaticResource BoolInverseConverter}}"/>
            <Button Grid.Column="2" Command="{x:Bind viewModel.PortRefreshCommand}">刷新</Button>
            <TextBlock Grid.Column="3">波特率</TextBlock>
            <ComboBox Grid.Column="4" SelectedIndex="0" ToolTipService.ToolTip="该功能未实现，默认 115200">
                <ComboBoxItem>115200</ComboBoxItem>
            </ComboBox>
            <Button Grid.Column="5" Command="{x:Bind viewModel.ToggleConnectCommand}" Content="{Binding SystemConnected, Converter={StaticResource ConnectBtnConverter}}"/>
        </Grid>
    </Grid>
</Window>
